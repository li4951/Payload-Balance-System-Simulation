












                 
<!DOCTYPE html>
<html class="ua-win ua-wk">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <meta http-equiv="x-ua-compatible" content="ie=7"/>
    <meta name="saoatech-site-verification" content="N2Y5MzU2M2YyNmVhOTllMGQwYmI4NzAwMTIxYmE2ZDU=" />
    <title>中兴捧月初赛专家评审感悟之任务四_中兴校园招聘讨论区_大街网_预见新自己！</title>
    <link rel="shortcut icon" href="http://assets.dajieimg.com/images/favicon.ico" />
    <meta content="大街网中兴校园招聘讨论区内容——中兴捧月初赛专家评审感悟之任务四，中兴捧月初赛专家评审感悟之任务四简介： &nbsp; &nbsp;同学们对于“中兴捧月“杯校园程序设计大赛的热情让我们很感动，在海量的作品中涌现了很多优秀的设计，从这些作品中我们" name="description"/>
    <meta content="中兴捧月初赛专家评审感悟之任务四, 中兴中兴捧月初赛专家评审感悟之任务四, 中兴2013招聘讨论区, 中兴2013校园招聘讨论区, 中兴校园招聘讨论区" name="keywords"/>
    <script type="text/javascript">var _head_start = new Date();var _current_date='2013-01-25 10:45:43';</script>
    <link rel="stylesheet" type="text/css" href="http://assets.dajieimg.com/css/dajie.45491.css"/>
    <link rel="stylesheet" type="text/css" href="http://assets.dajieimg.com??/css/layout/fullwidth.41884.css,/css/channels/club2012.45226.css"/>
    <script type="text/javascript" src="http://assets.dajieimg.com/js/dajie.45275.js"></script>
    <script type="text/javascript" src="http://assets.dajieimg.com??/lib/jquery/jquery.query.43272.js,/js/jquery.linkup.43535.js,/up/atFriend/js/jquery.atFriend.38911.js"></script>
    <script type="text/javascript">
        $.domains = {
            www : "www.dajie.com",
            assets : "assets.dajieimg.com"
        };
    </script>
</head>
<body >
<script type="text/javascript">var  _body_start = new Date();</script>
        <iframe src="http://www.dajie.com/crossdomain/proxy.html?t=1359081943178" id="www-ajax-frame" style="display:none;"></iframe>
    <script type="text/javascript">
        document.domain = 'dajie.com';
    </script>
<div id="dj-header-wrap" class="dj-top-micro">
    <div>
        <div id="header">
        <div id="logo">
            <h1>
                <a href="http://www.dajie.com/home">
                        <img src="http://assets.dajieimg.com/images/header/dj_logo_m_2013.png" alt="大街网"/>
                </a>
            </h1>
        </div>
        <div class="dj-top-section clearfix">
            <div class="dj-uinfo-action clearfix">
                <div class="dj-user-info" id="login-header-region" style="display: none;">
                    <div class="uinfo-inner">
                        <div class="user-avatar">
                            <a style="display: none;" href="http://www.dajie.com/profile/mine" title="" id="user-avatar-link-in-header">
                            </a>
                            <a class="aname" href="http://www.dajie.com/profile/mine" title=""><span class="uname"></span><b class="arrow-ud"></b></a>
                        </div>
                        <div class="user-stuff">
                            <ul class="nav-select">
                                <li><a href="http://job.dajie.com/resume/index" title="我的简历">我的简历</a></li>
                                <li><a href="http://www.dajie.com/settings/avatar" title="帐号设置">帐号设置</a></li>
                                <li class="has-separate last"><a class="dj-hd-special-out" href="http://www.dajie.com/account/logout" title="退出">退出</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="login-pls" id="unlogin-header-region" style="display: none;">
                    <a href="http://www.dajie.com/account/login" title="登录">登录</a><b class="dj-top-separate"></b><a href="http://www.dajie.com/account/reg" title="注册">注册</a>
                </div>
            </div>
            <div class="dj-nav-g">
    <ul class="dj-nav-list clearfix" id="dj-nav-list" style="display:none">
        <li>
            <a href="http://www.dajie.com/home" title="首页"><cite>首页</cite></a>
        </li>
        <li>
            <a href="http://www.dajie.com/profile/mine" title="编辑我的档案"><cite>我的档案</cite></a>
        </li>
        <li class="clearfix">
            <a href="http://job.dajie.com/" title="职位"><cite>职位</cite></a>
        </li>
        <li class="J_companyPop ">
            <a href="http://www.dajie.com/corp/search/index?f=nav" title="公司"><cite>公司</cite></a>
        </li>
    </ul>
            </div>
        </div>
    </div>
    </div>
    <div style="width:220px;display:none;position:absolute;" class="prompt-tips tips-top" id="J_companyPop">
        <div class="tips-main">
            <span class="pointer"></span>
            <a href="javascript:void(0)" stat="2002" class="remove floatright" style="margin-top:2px;">关闭</a>公司需要你补充资料，<a id="dj-corp-edit" target="_blank" href="#">立即补充</a>！
        </div>
    </div>
    <script type="text/javascript">
        $(function () {
            $('#J_companyPop .remove').live('click', function () {
                $.cookie('dj_corp_bubble', 'false', {path:'/', domain:'dajie.com', expires:1});//24小时之后过期
                $(this).parents('#J_companyPop').hide();
            });
            $('#dj-corp-edit').live('click', function () {
                var date = new Date();
                date.setTime(date.getTime() + (30 * 60 * 1000)); //30分钟
                $.cookie('dj_corp_bubble', 'false', {path:'/', domain:'dajie.com', expires:date});
                $(this).parents('#J_companyPop').hide();
            });
            $('#dj-nav-list .new').each(function(){
                var $this = $(this);
                if(!$.cookie('c-'+$this.attr('id'))) {
                    $this.show();
                }
            });
            $('#dj-nav-list > li > a').click(function(){
                var $point = $(this).next('.new');
                if($point.length){
                    var date = new Date();
                    date.setTime(date.getTime() + (60 * 60 * 1000) * 24 * 180); //30分钟
                    $.cookie('c-' + $point.attr('id'), '1', {path:'/', domain:'dajie.com', expires:date});
                }
            })
        });
        (function () {
            var iframe = '<iframe class="iframe-mask" frameborder="0" style="" src="javascript:void(0);"></iframe>',
                    hasOverLay = [];
            $('#dj-hd-circle,#postMore, #dj-app-nav, #login-header-region > .uinfo-inner, #dajie-notice-region').each(function (i) {
                $(this).bind('mouseover',function () {
                    var $this = $(this);
                    if($this.parents('#dj-nav-list').length && !$this.hasClass('has-more')) return false;
                    var $navSelect = $this.find('.nav-select'),
                            $width = $navSelect.outerWidth(),
                            $height = $navSelect.outerHeight();
                    $this.addClass('on');
                    if ($this.hasClass('uinfo-inner')) {
                        var _w = $this.outerWidth() - 2;
                        _w = (_w < 94) ? 94 : _w;
                        $navSelect.css({"width":_w});
                        $width = _w;
                        hasOverLay[4] = "1";
                    }
                    if (!$navSelect.parents('.on').find('iframe').length) {
                        $navSelect.parents('.on').append(iframe);
                    }
                    $('.on').find('iframe').css({"width":$width, "height":$height});
                    $this.find('.iframe-mask').show();
                }).bind('mouseleave', function () {
                    var $this = $(this);
                    if($this.parents('#dj-nav-list').length && !$this.hasClass('has-more')) return false;
                    $this.removeClass('on');
                    $this.find('.iframe-mask').hide();
                });
            });
            $('#dj-header-wrap .dj-nav-g, #dj-header-wrap .dj-uinfo-action').mouseout(function (e) {
                if (e.clientY < 0) {
                    setTimeout(function () {
                        $('.dj-nav-g li, #login-header-region .uinfo-inner, #dajie-notice-region').removeClass('on');
                        $('#dj-header-wrap .iframe-mask').hide();
                    }, 0);
                }
            });
        })();
        var is_login = $.cookie('dj_auth') != null || $.cookie('dj_auth_v3') != null; //必须是全局变量，别的项目有用
        window['is_login'] = is_login;
        (function () {//通知气泡以及用户相关信息
            if (is_login) {
                $('#unlogin-header-region').hide();
                $('#login-header-region').show();
                $('#dj-nav-list').show();
                try {
                    window.setTimeout(function () { //为了获取登录用户的头像
                        jQuery.getScript('http://www.dajie.com/ajax/loginuserinfo?t=' + new Date().getTime());
                    }, 50);
                } catch (e) {
                }
                if ($('#dajie-notice-region').length > 0) {
                    $('#dajie-notice-region').show();
                    try {
                        window.setTimeout(function () { //为了获取登录用户的头像
                            jQuery.getScript('http://www.dajie.com/notice/check?t=' + new Date().getTime());
                        }, 1000);
                        window.setInterval(function () {
                            jQuery.getScript('http://www.dajie.com/notice/check?t=' + new Date().getTime());
                        }, 5000 * 60);
                    } catch (e) {
                    }
                }
            } else {
                $('#login-header-region').hide();
                $('#dajie-notice-region').hide();
                $('#unlogin-header-region').show();
            }
        })();
    </script>
</div>
<div class="dj-content-wrap " id="dj-content-wrap">
    <div class="dj-content-inner">
            <div class="dj-content-shadow">
<div id="content">
<div id="maincolumn">
<link rel="stylesheet" type="text/css" href="http://assets.dajieimg.com/bd/club/zte/skin.40552.css" />
        <div id="tops-cont"  style="display:none;">
       <div class="tops-cont">
           <p class="b f14 g3 ">你关注的名企达到上限100家，不能再关注名企了</p>
           <p class="g3">取消已关注的名企，才能继续关注其他名企</p>
           <p class="green">看看<a href="http://company.dajie.com/myfollow">“我关注的名企”</a></p>
       </div>
    </div>

    <div class="banner-title">
            <div class="attentionBox">
                <a href="##" title="关注" class="attention-btn" id="follow-club" cid="649" name="中兴通讯股份有限公司" ></a>
                <a href="##" title="取消关注" class="attentioned" id="follow-cancel" cid="649" name="中兴通讯股份有限公司" style="display:none;" ></a>
                <a href="/club/friendlist"><span id="member-cnt" class="text-link">88625</span></a><br/>
                <span class="large">已关注</span>
            </div>
            <div class="c_logo"><a href="http://zte.dajie.com/page/welcome-zte"><img src="http://fs1.dajie.com/newcorplogo/sl/1308135_sl.png" alt="中兴通讯" /></a></div>
        <span class="company-title">中兴通讯股份有限公司</span>

    </div>    <div class="navigation">
        <ul >
            <li class="home" ><a href="http://zte.dajie.com/page/welcome-zte"><span>首&nbsp;页</span></a></li>
            <li class="current" ><a href="/discuss/topic/list"><span>讨论区</span></a></li>
                <li  ><a href="/schedule/list"><span>日&nbsp;程</span></a></li>
                <li  ><a href="/club/introduce"><span>企业介绍</span></a></li>
                <li  ><a href="/page/zte/album"><span>企业风采</span></a></li>
                <li   style="position:relative;z-index:99"><a href="/project/7372">中兴手机创意大赛</a></li>
                <li><a href="#" id="nav-more"><span>更多</span><em class="arrow"></em></a></li>
        </ul>
    </div>
    <div class="clubNotifications-sub">
        <ul>
                        <li><a href="/project/6872">中兴通讯2013届校园招聘启动仪式</a></li>
                        <li><a href="/project/6272">中兴捧月杯校园程序设计大赛兴趣赛</a></li>
                        <li><a href="/project/6123">中兴捧月杯校园程序设计大赛</a></li>
                        <li><a href="/project/6180">中兴通讯2013校园招聘</a></li>
        </ul>
    </div>


<div class="client">
    <div class="roof"></div>
    <div class="room clearfix">
        <div class="crumb clearfix">
            <span class="floatright"><a href="/discuss/topic/list" class="text-link">返回讨论区列表</a></span>
            <a href="/discuss/topic/list" class="text-link">讨论区</a>&nbsp;<span class="gc">&gt;</span>&nbsp;
        中兴捧月初赛专家评审感悟之任务四
        </div>
        <div class="detailMain floatleft">
            <div class="topic">
                <div class="user-text">
                    <div class="pic">
                            <a href="http://www.dajie.com/profile/WHVf5hmW5g**" title="专家组"><img src="http://9.head00.dajieimg.com/2010/04/22/022/12719346225432589s.jpg" title="专家组"/></a>
                    </div>
                    <h1>中兴捧月初赛专家评审感悟之任务四</h1>
                        <a href="http://www.dajie.com/profile/WHVf5hmW5g**">专家组</a>
                    <span class="g9">
                                &nbsp;&nbsp;
                    </span>

                    <span class="time g9">2012-07-16 16:07:28</span>

                    <div class="topic-msg large">
<span style="font-size:10.5pt"> &nbsp; &nbsp;同学们对于“中兴捧月“杯校园程序设计大赛的热情让我们很感动，在海量的作品中涌现了很多优秀的设计，从这些作品中我们看到了同学们的创意与认真，无论结果如何，相信大家在团队共同完成任务的过程中已经有所收获。</span><br /><br /><span style="font-size:10.5pt">任务四的功能实现并不复杂，考察点不外乎就是多进程的SOCKET通信以及简单的分配算法，不过在评审过程中也发现了一些问题：</span><br /><br /><span style="font-size:10.5pt">1</span><span style="font-size:10.5pt">、不少同学对题意的理解不够，比如题目要求测试进程需要提供API接口，这个应该是提供给用户（比如评委）通过UI来手工输入执行的。从评审过程中看，能够理解到这一层的设计都做得不错。</span><br /><br /><span style="font-size:10.5pt">2</span><span style="font-size:10.5pt">、在设计过程中如何考虑系统的可测试性、可维护性、扩展性以及易用性等，这点是初赛阶段我们最为关注的。</span><br /><br /><span style="font-size:10.5pt">（1）可测试性，就要求作品的测试进程能够提供给用户直接执行的测试用例，以及测试用API，方便用户进行自行定制用例。从实际的作品评审来看，真正能够做到这一点的作品不多，很多的作品是系统启动就直接执行用例，执行完成后进程退出，从用户（评委）的角度来看，很难判断用例执行的有效性以及对应功能代码的实现；</span><br /><br /><span style="font-size:10.5pt">（2）可维护性，是指出现异常或发现问题时，非常方便开发者修改。这也是我们之所以对代码规范、文档规范有详细的评分细则。就是想让同学们能够摒弃掉一般校园项目带代码、文档不规范的弊病，简单的去实践一下软件工程。</span><br /><br /><span style="font-size:10.5pt">（3）扩展性，这个对于大家进入复赛很重要。如果大家的目标不仅仅是完成初赛设计，而是进入复赛、总决赛乃至拿到最后的总冠军，那么在设计之初就应该更多的考虑扩展性，否则在进入复赛后，可能就需要推倒重来，这个工作量无疑是巨大的。设计之初多想想，如果我进入复赛，在原有的基础上，可能会有什么样的变化或者新的要求？针对变化，我的系统能不能做小量修改或者延伸就可以做到。在评审过程中，发现有的同学在说明文档中写明因为是初赛，所以就随便做做，只求实现功能通过初赛，这点我们认为是不可取的，当你不认真对待开始时，何以见得你能重视后面呢？所以认真对待每一次，考虑的更长远一些，无疑可以让你走的更远。</span><br /><br /><span style="font-size:10.5pt">（4）易用性，这点其实和可测试性类似，这次参赛作品量非常大，评委评审工作量巨大，能够让评委不需要看代码就给出结论这是优秀作品的，无疑简单操作、方便易用是首选。</span><br /><br /><span style="font-size:10.5pt"> &nbsp; &nbsp;同学们如果能够在以上几个方面多想一些多做一点，结果就会更加完美。最后祝愿同学们在未来的学习生活中一切顺利！加油！</span><br />                    </div>

                       <div class="attentionBar g6">了解更多中兴校园招聘笔面经讯息，请即刻关注<a href="http://zte.dajie.com/page/welcome-zte">中兴2013校园招聘</a></div>
    <span id="manage-menu-span" class="floatright" style="padding:8px 7px 7px 7px">
</span>
<div id="share-module">
    <span class="b">把当前话题推荐给站外好友 ：</span>
    <a href="javascript:void(0);" class="renren">人人</a>
    <a href="javascript:void(0)" class="kaixin">开心</a>
    <a href="javascript:void(0);" class="sina">新浪微博</a>
</div>


                </div>
            </div>
    <div style="width:625px">
<div id="comment">
</div>
    </div>
        </div>
    </div>
    <div class="floor"></div>
</div>
</div>
</div>
            </div>
    </div>
</div>
<div id="footer">
    <address>
        <span class="floatright">
        <a href="http://www.dajie.com/about/">关于</a>

        | <a href="http://s.dajie.com/">招聘</a>
        | <a href="http://123.dajie.com/">企业</a>
        | <a href="http://city.dajie.com/">城市</a>
        | <a href="http://biz.dajie.com/">行业</a>
        | <a href="http://company.dajie.com/sub/exam/bs">笔经</a>

        | <a href="http://company.dajie.com/sub/exam/ms">面经</a>
        | <a href="mailto:service@dajie.com">意见反馈</a>
        | <a href="http://www.dajie.com/about/privacy.html">服务与声明</a>
        </span>&copy;2008-2013&nbsp;大街网&nbsp;|&nbsp;京ICP证090373号&nbsp;|&nbsp;京公网安备11010802008965

    </address>
</div>

<script type="text/javascript">
    var root_canShowRegFloat = true;
    $(function(){
        var is_login = $.cookie('dj_auth') != null || $.cookie('dj_auth_v3') != null;
    });
</script>
    <link rel="stylesheet" type="text/css" href="http://assets.dajieimg.com/css/modules/register-pop.42207.css"/>
    <script type="text/javascript" src="http://assets.dajieimg.com/js/jquery.formvalidate.43535.js"></script>
<div id="J_LoginDialogBox" style="display:none;">
    <div class="dj-dialog-login clearfix">
        <div class="social-login-box">
            <div class="hd"><h3>使用以下帐号登录</h3></div>
            <ul class="social-login-list clearfix">
                        <li class="login-renren-link"><a href="http://www.dajie.com/account/rr/login" title="人人帐号登录">人人帐号登录</a></li>
                        <li class="login-kaixin001-link no-mr"><a href="http://www.dajie.com/account/kx/login" title="开心帐号登录">开心帐号登录</a></li>
                        <li class="login-qqweibo-link"><a href="http://www.dajie.com/account/qq/login" title="腾讯微博登录">腾讯微博登录</a></li>
                        <li class="login-weibo-link no-mr"><a href="http://www.dajie.com/account/sina/login" title="新浪微博帐号登录">微博帐号登录</a></li>
            </ul>
            <div class="g9">快速进入，预见新自己！</div>
        </div>
<div class="dj-login-box">
    <div class="hd"><h3>使用大街网帐号登录</h3></div>
    <table class="login-table">
        <tr>
            <th>
                <label for="login-email">邮　箱:</label>
            </th>
            <td>
                <input id="login-email" class="reg-input-wrap" type="text" tabindex="1" reg="email" name="email"
                       maxlength="50" autocomplete="off">

                <div class="error"></div>
            </td>
        </tr>
        <tr>
            <th><label for="login-pwd">密　码:</label></th>
            <td>
                <input id="login-pwd" class="reg-input-wrap" type="password" tabindex="2" name="password">

                <div class="error"></div>
            </td>
        </tr>
        <tr id="login-captcha-tr" style="display: none">
            <th><label for="login-captcha">验证码:</label></th>
            <td>
                <input id="login-captcha" type="text" tabindex="3" name="captcha" style="width:72px" maxlength="10">
                
                <a onclick="reset_captcha();return false;" href="javascript:void(0)" style="vertical-align:middle;font-size:12px;color:#86B5D7">换一换</a>
                <div class="error"></div>
            </td>
        </tr>
        <tr class="spc-tr">
            <th></th>
            <td>
                <div class="fr"><a class="g9" href="http://www.dajie.com/account/lostpassword" title="">忘记密码？</a>
                </div>
                <input type="checkbox" class="checkbox" checked id="J_KeepLoginStatus"><label for="J_KeepLoginStatus"
                                                                                              class="checkbox">保持登录状态</label>
            </td>
        </tr>
        <tr class="spc-tr">
            <th></th>
            <td>
                <a id="reg-link" class="fr" href="http://www.dajie.com/account/reg" title="注册大街网帐号"
                   stat="7026">注册大街网帐号</a>
                <a href="###" title="" id="login-submit" class="goto-login-btn formValidateSubmit"
                   tabindex="3" stat="7021"><b>登&nbsp;&nbsp;录</b></a>
                <input type="hidden" name="method" value="do"/>
                <input type="hidden" id="type" name="type" value="0"/>
                <input type="hidden" name="redir" value="/">
            </td>
        </tr>
    </table>
</div>
        <div class="buttons" style="display:none;">
            <button class="default"><span><span>确定</span></span></button>
            <button class="normal"><span><span>取消</span></span></button>
        </div>
    </div>
</div>

<script type="text/javascript">
    function pop_reg(redir, defaultPop,popRegFloat) {
        if (arguments.length == 0) {
            redir = '/';
            defaultPop = 'login';
            popRegFloat = false;
        }
        if(redir == '' || redir == '/') {
            redir = document.location.href;
        }
        var regLink = $('#reg-link');
        if (regLink.length > 0) {
            var regLinkHref = regLink.attr('href');
            if (regLinkHref.indexOf('?') > 0) {
                regLinkHref = regLinkHref + '&redir=' + encodeURIComponent(redir);
            } else {
                regLinkHref = regLinkHref + '?redir=' + encodeURIComponent(redir);
            }
            regLink.attr('href',regLinkHref);
        }
        $('table.login-table input[name=redir]').val(redir);
        $('.login-renren-link a').attr('href', 'http://www.dajie.com/account/rr/login?redir='+encodeURIComponent(redir));
        $('.login-kaixin001-link a').attr('href', 'http://www.dajie.com/account/kx/login?redir='+encodeURIComponent(redir));
        $('.login-qqweibo-link a').attr('href', 'http://www.dajie.com/account/qq/login?redir='+encodeURIComponent(redir));
        $('.login-weibo-link a').attr('href', 'http://www.dajie.com/account/sina/login?redir='+encodeURIComponent(redir));
        $("#J_LoginDialogBox").dialog({
            title: '登录',
            mercy:false,
            width:760,
            mask:true,
            stay:'#J_LoginDialogBox',
            onabort:function(){
                if(popRegFloat){
                    try {
                        if (typeof(forceRegAcount) == "function") {
                            if($('#J_LoginDialogBox').hasClass('rootRegFloat')) {
                                return;
                            }
                            forceRegAcount();
                            $('#J_LoginDialogBox').addClass('rootRegFloat');
                        }
                    } catch (e) {
                    }
                }
            }
        });

        $('.pickpane').css({width:"220"});
            $('.titlebar .close').hide();
            setTimeout("$('.titlebar .close').fadeIn('slow')", 0);
    }
</script>
    <script type="text/javascript">
            forceLogin();
        function forceLogin(){
            var auth = $.cookie('dj_auth_v3');
            if (auth == null || auth.length <= 0) {
                auth = $.cookie('dj_auth');
            }
            var login_tips = $.cookie("login_tips");
            if(auth==null || auth.length <= 0){
                if (login_tips == null) {
                    var currentDate = new Date();
                    var cookieExpiredTime=new Date(currentDate.getFullYear(),currentDate.getMonth(),currentDate.getDate(),currentDate.getHours() + 1,currentDate.getMinutes(),currentDate.getMinutes());
                    $.cookie('login_tips','1',{ expires: cookieExpiredTime, path: '/', domain: 'dajie.com' });
                    pop_reg('/','common-reg',true);
                    root_canShowRegFloat =false;
                }
            }
        }
    </script>


    
    <script type="text/javascript">
          $.get('/follow/follownum',{domain:''}, function(r) {
            $('#member-cnt').text(r);
          });
        $('.concern, #follow-cancel').live('click', function() {
            var obj = $(this);
            var cid = $(this).attr("cid");
            $.ajax({
                url: '/follow/cancel',
                data: 'cid=' + cid,
                async: false,
                success: function(r) {
                    if (r >= 0) {
                        handle_follow_cancel(obj, r);
                    }
                },
                error: function(r) {
                    alert("取消失败")
                }
            });
        });

        $('.unconcern,#follow-club').live('click', function() {
            if(!is_login){
                url = location.href;
                location.href = "http://www.dajie.com/login?redir="+url;
        }else{
                var obj = $(this);
                var cid = $(this).attr("cid");
                var res = 0;
                $.ajax({
                    url: '/follow/add',
                    data: 'cid=' + cid,
                    async: false,
                    success: function(r) {
                        if (r >= 0) {
                            handle_follow_add(obj, r);
                        } else if (r == -2) {
                            alert("添加失败，请先登录");
                        } else if (r == -3) {
                            $.dialog('#tops-cont', {
                                mask: true, title: '提示', width:518, mercy: false,
                                oncomplete: function() {
                                    return true;
                                }
                            });
                        } else {
                            alert("添加关注失败,请稍后再试");
                        }
                    },
                    error: function(r) {
                        alert("添加错误!请稍后再试")
                    }
                });
            }
        });
        function handle_follow_cancel(obj,r){
                $("#follow-club").css('display', '');
                $("#follow-cancel").hide();
                $('#member-cnt').text(r);
            }
            function handle_follow_add(obj,r){
                $("#follow-club").hide();
                $("#follow-cancel").css('display', '');
                $('#member-cnt').text(r);
            }

            if(is_login){
                $.get('/person/is-follow' , {cid:'649'}, function(r) {
                    if(r=='0'){
                        $("#follow-club").show();
                        $("#follow-cancel").hide();
                    }else{
                        $("#follow-club").hide();
                        $("#follow-cancel").show();
                    }
                });
            }
    </script>

    <script type="text/javascript">
        $('#nav-more').hover(function() {
            var suboffset = $(this).offset();
            var left = suboffset.left;
            var top = suboffset.top + 38;

            $(this).addClass('notifications-selected');
            $('.clubNotifications-sub').css({top:top + 'px',left:left + 'px'}).show();
            $('.clubNotifications-sub').hover(function() {
                $('#nav-more').addClass('current');
                $(this).show();
            }, function() {
                $('#nav-more').removeClass('current');
                $(this).hide();
            }).overlay();
        }, function() {
            $(this).removeClass('current')

        })
        $('.clubNotifications-sub li').hover(function() {
            $(this).css({'background-color':'#f3f3f3'})
        }, function() {
            $(this).css({'background-color':'#ffffff'})
        });
    </script>

    <script type="text/javascript">
        $.get('/discuss/admin/113911/menu4detail?recycle=false', function(r) {
            $('#manage-menu-span').append(r);
        });

        function spriteResponseHandler(box, r) {
            if (r.substr(0, 1) == '0') {
                if (r.length > 2 && r.substr(2).length != 0) {
                    location.href = r.substr(2);
                } else {
                    location.href = location.href;
                }
            } else {
                alert(r.substr(2));
            }
        }
    </script>
<script type="text/javascript">$('#manage-menu-span a.manage-box').sprite({title: '权限管理', width: 560, mask: true, oncomplete: spriteResponseHandler});</script>
<script type="text/javascript">$('#manage-menu-span div.managebar div.list a.manage-menu-link-class').sprite({title: '权限管理', width: 560, mask: true, oncomplete: spriteResponseHandler});</script>

<script type="text/javascript"></script>
<script type="text/javascript">
        $('#manage-menu-span a span.share-module-reply').last().click(function() {
            $('#dajie-comment-textbox-id').focus();
        });
    $('#share-module .renren').click(function() {
        renren(screen, document, encodeURIComponent);
    });
    $('#share-module .kaixin').click(function() {
        var st = document.title;
        kaixin(st);
    });
    $('#share-module .sina').click(function() {
        sina(screen, document, encodeURIComponent, '', '', '', '', '', 'utf-8');
    });
</script>

<script type="text/javascript">
    var commentpage = 1;
    function load_comments(page) {
        $('#www-ajax-frame')[0].contentWindow.$.ajax({
            url:'http://www.dajie.com/comment/list',
            data:'objectId=113911&type=club_discuss&currentpage=' + page,
            success: function(r) {
                commentpage = page;
                $('#comment').html(r);
            },
            error: function() {
                $('#comment').text('载入评论失败');
            }
        });
    }
    $(window).load(function() {
        load_comments(commentpage);
    });
</script>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8089983-1']);
    _gaq.push(['_addOrganic', 'baidu', 'word']);
    _gaq.push(['_addOrganic', 'soso', 'w']);
    _gaq.push(['_addOrganic', '3721', 'name']);
    _gaq.push(['_addOrganic', 'yodao', 'q']);
    _gaq.push(['_addOrganic', 'vnet', 'kw']);
    _gaq.push(['_addOrganic', 'sogou', 'query']);
    _gaq.push(['_setDomainName', '.dajie.com']);

    _gaq.push(['_trackPageview']);
        _gaq.push(['_setVar', '12245369']);
    (function () {
        var ga = document.createElement('script');
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        ga.setAttribute('async', 'true');
        document.documentElement.firstChild.appendChild(ga);
    })();
</script>
<script src='http://js.dajie.com/pv.2010061801.js' type='text/javascript'></script>
<script type="text/javascript">
    var _now = new Date();
    var _style_count = $('link[rel=stylesheet]').length;
    var _script_count = $('script[src]').length;
    var url = "http://st.dajie.com/performance.st";
    var i = new Image(1, 1);
    try {
        i.src = url + "?h=" + (_body_start - _head_start) + "&b=" + (_now - _body_start) + "&s=" + _style_count + "&j=" + _script_count;
        i.onload = function () {
            _uVoid();
        }
    } catch (e) {
    }
</script>

<script type="text/javascript">
    $(document).ready(function () {
        $('#login-email').val($.cookie("login_email"));
        if ($('#login-email').val() != '') {
            $('#login-pwd').focus();
        } else {
            $('#login-email').focus();
        }
    });

    $(".reg-input-wrap").bind("keypress", function (e) {
        if (e.keyCode == '13' && $(this).attr('id') != 'login-email') {
            e.preventDefault();
            $("#login-submit").click();
        }
    });
    var aErrorMsg = ['邮箱格式错误', '密码长度4-20，请重填','请输入正确验证码'];
    $('.reg-input-wrap').formValidate();

    var emailhosts = ["@qq.com", "@vip.qq.com", "@163.com", "@126.com", "@gmail.com", "@yahoo.com.cn", "@sina.com", "@hotmail.com", "@yahoo.cn", "@sohu.com", "@yeah.net", "@tom.com", "@live.cn", "@foxmail.com", "@139.com", "@21cn.com", "@zju.edu.cn", "@sina.com.cn", "@msn.com", "@mail.ustc.edu.cn", "@mails.jlu.edu.cn", "@sjtu.edu.cn", "@yahoo.com", "@fudan.edu.cn", "@bsnow.net", "@mail.nankai.edu.cn", "@stu.xjtu.edu.cn", "@stu.edu.cn", "@eyou.com", "@mail.ecust.edu.cn", "@mails.tsinghua.edu.cn", "@bjtu.edu.cn", "@mail2.sysu.edu.cn", "@2008.sina.com", "@live.com", "@pku.edu.cn", "@msn.cn", "@ruc.edu.cn", "@bupt.cn", "@sem.tsinghua.edu.cn", "@gsm.pku.edu.cn", "@bit.edu.cn", "@emails.bjut.edu.cn", "@sogou.com", "@mail.bnu.edu.cn", "@vip.sina.com", "@mail.scut.edu.cn", "@mails.thu.edu.cn", "@njupt.edu.cn", "@cuc.edu.cn", "@cqu.edu.cn", "@mail.sdu.edu.cn", "@uestc.edu.cn", "@shu.edu.cn", "@lzu.cn", "@263.net", "@tju.edu.cn" ];
    $('#login-email').matchbox({strict:false, hasTips:false, hasTitle:true, minlength:1, titleLink:'https://mail.qq.com/cgi-bin/loginpage', customQuery:function (q) {
        var atIndex = q.indexOf('@');
        if (q.replace(/ |　/g, '').length == 0) {
            return [];
        }
        var matchs = new Array();
        if (atIndex == -1 || atIndex == q.length - 1) {
            q = q.replace('@', '');
            matchs.push({id:'_Title" class="exceeded', text:'推荐使用 <a href="javascript:void(0);">QQ邮箱</a> 注册'});
            for (var i = 0; i < 9; i++) {
                matchs.push({id:q + emailhosts[i], text:sub_email(q) + emailhosts[i]});
            }
        } else {
            var name = q.substr(0, atIndex);
            var host = q.substr(atIndex);
            var flag = true;
            for (i = 0; i < emailhosts.length; i++) {
                if (emailhosts[i].indexOf(host) == 0) {
                    if (flag) {
                        matchs.push({id:'_Title" class="exceeded', text:'推荐使用 <a href="javascript:void(0);">QQ邮箱</a> 注册'});
                        flag = false;
                    }
                    matchs.push({id:name + emailhosts[i], text:sub_email(name) + emailhosts[i]});
                }
            }
        }
        return matchs;
    }});

    function sub_email(s) {
        if (s.length > 10) {
            s = s.substr(0, 5) + '...' + s.substr(s.length - 5);
        }
        return s;
    }

    function form_submit() {
        if ($.formValidate.check()) {
            $("#login-submit").unbind("click");
            var rememberMePara = '&d.rememberMe=1';
            if (!$('#J_KeepLoginStatus')[0].checked) {
                rememberMePara = '';
            }
            if ($('#login-captcha-tr:visible').length > 0) {
                rememberMePara += '&captcha=' + $('#login-captcha').val();
            }
            var redir = $('table.login-table input[name=redir]').val();
            if (!redir || redir.length == 0) {
                redir = window.location.href;
            }

            if (redir.indexOf('/account/login') >= 0) {
                redir = '/';
            }
            $('.login-table .error').hide();
                var url = '/account/loginsubmit';
                $.ajax({
                    url:url,
                    data:'redir=' + encodeURIComponent(redir) + '&d.email=' + $('#login-email').val() + '&d.password=' + encodeURIComponent($('#login-pwd').val()) + rememberMePara,
                    type:"POST",
                    dataType:"script"
                });
        } else {
            $('.reg-input-wrap').each(function () {
                var r = $.formValidate.check(this),
                        subNum = $('.reg-input-wrap').index(this),
                        $errorBox = $(this).parents('td').children('.error');
                if (!r) {
                    $errorBox.text(aErrorMsg[subNum]);
                } else {
                    $errorBox.text('');
                }
            });
        }
        return false;
    }

    $('.reg-input-wrap').bind('focus', function () {
        $(this).parents('td').find('.error').text('');
    });

    function reset_captcha() {
        $('#login-captcha').val('');
        if($('#login-captcha-img').length > 0) {
            $('#login-captcha-img').attr('src', 'http://www.dajie.com/captcha/code?t'+new Date().getTime())
        } else {
            $('#login-captcha').after('<img id="login-captcha-img" src="http://www.dajie.com/captcha/code" title="验证码" style="vertical-align:middle">');
        }
    }

    function LOGIN_CALLBACK(r) {
        reset_captcha();
        if (r.substr(0, 1) == '1') {
            $('#login-email').parents('td').children('.error').text('邮箱和密码不符，请重新登录！').show();
        } else if(r.substr(0,1) == '2'){
            var info = r.substr(2).split(",");
            $.alert("<div style=' padding: 24px 20px 24px 66px;background: url(http://assets.dajieimg.com/up/profile2012/i/dj-dialog-ico-alert.gif) 12px center no-repeat;'><div class='bd' style='padding-left: 24px;border-left: 1px solid #E5E5E5'><p class='con' style='font-size: 14px;line-height: 20px;'>" + info[0] + "，你的帐号发生过异常登录。</p><p class='plus' style='font-size: 14px;line-height: 20px;padding-top: 10px;color:#333'>我们已向你的邮箱 <strong style='font-weight: bold;color : #333'>" + info[1] + "</strong> 发送密码重置链接，请立即处理。</p></div></div>",{"title":"大街提示","width":460});
        } else if (r.substr(0, 1) == '3') {
            if ($('#login-captcha-tr:visible').length == 0) {
                reset_captcha();
                $('#login-captcha-tr').show();
                $('#login-captcha').addClass('reg-input-wrap');
                $('#login-captcha').bind("keypress", function (e) {
                    if (e.keyCode == '13' && $(this).attr('id') != 'login-email') {
                        e.preventDefault();
                        $("#login-submit").click();
                    }
                });
            } else {
                $('#login-captcha').parents('td').children('.error').text('请输入正确验证码').show();
            }
        } else {
            document.location.href = r;
        }
        $("#login-submit").bind("click", form_submit);
    }
    $("#login-submit").bind("click", form_submit);
</script>


</body>
</html>
